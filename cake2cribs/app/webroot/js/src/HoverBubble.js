// Generated by CoffeeScript 1.3.3

/*
HoverBubble class
Wrapper for google infobubble
*/


(function() {

  A2Cribs.HoverBubble = (function() {
    /*
    	Constructor
    	-creates infobubble object
    */

    function HoverBubble(map) {
      var obj;
      obj = {
        map: map,
        arrowStyle: 0,
        arrowPosition: 20,
        shadowStyle: 1,
        borderRadius: 5,
        arrowSize: 17,
        borderWidth: 0,
        disableAutoPan: true,
        padding: 7,
        maxWidth: 300,
        maxHeight: 200,
        disableAnimation: true
      };
      this.InfoBubble = new InfoBubble(obj);
      this.InfoBubble.hideCloseButton();
    }

    /*
    	Opens the tooltip given a marker, with popping animation
    */


    HoverBubble.prototype.Open = function(marker) {
      if (marker) {
        this.SetContent(marker);
        return this.InfoBubble.open(A2Cribs.Map.GMap, marker.GMarker);
      }
    };

    /*
    	Refreshes the tooltip with the new content, no animation
    */


    HoverBubble.prototype.Refresh = function() {
      return this.InfoBubble.open();
    };

    /*
    f	Closes the tooltip, no animation
    */


    HoverBubble.prototype.Close = function() {
      return this.InfoBubble.close();
    };

    /*
    	Sets the content of the tooltip
    */


    HoverBubble.prototype.SetContent = function(marker) {
      var template;
      template = $(".hover-bubble:first").wrap('<p/>').parent();
      this.InfoBubble.setContent(template.html());
      return $(".hover-bubble:first").unwrap();
    };

    return HoverBubble;

  })();

}).call(this);
